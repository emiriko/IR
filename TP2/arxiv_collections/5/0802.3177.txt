The existing theory of decoy-state quantum cryptography assumes the exact
control of each states from Alice's source. Such exact control is impossible in
practice. We develop the theory of decoy-state method so that it is
unconditionally secure even there are state errors of sources, if the range of
a few parameters in the states are known. This theory simplifies the practical
implementation of the decoy-state quantum key distribution because the
unconditional security can be achieved with a slightly shortened final key,
even though the small errors of pulses are not corrected.