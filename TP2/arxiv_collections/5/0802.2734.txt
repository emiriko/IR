In 1975 Szemer\'edi proved that a set of integers of positive upper density
contains arbitrarily long arithmetic progressions. Bergelson and Leibman showed
in 1996 that the common difference of the arithmetic progression can be a
square, a cube, or more generally of the form $p(n)$ where $p(n)$ is any
integer polynomial with zero constant term. We produce a variety of new results
of this type related to sequences that are not polynomial. We show that the
common difference of the progression in Szemer\'edi's theorem can be of the
form $[n^\delta]$ where $\delta$ is any positive real number and $[x]$ denotes
the integer part of $x$. More generally, the common difference can be of the
form $[a(n)]$ where $a(x)$ is any function that is a member of a Hardy field
and satisfies $a(x)/x^k\to \infty$ and $a(x)/x^{k+1}\to 0$ for some
non-negative integer $k$. The proof combines a new structural result for Hardy
sequences, techniques from ergodic theory, and some recent equidistribution
results of sequences on nilmanifolds.