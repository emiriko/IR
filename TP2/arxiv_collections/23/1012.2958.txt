Nonlinear dynamics creates vortical currents when the tight-coupling
approximation between photons and baryons breaks down around the time of
recombination. This generates a magnetic field at second order in cosmological
perturbations, whose power spectrum is fixed by standard physics, without the
need for any ad hoc assumptions. We present the fully relativistic calculation
of the magnetic power spectrum, including the effects of metric perturbations,
second-order velocity and the photon anisotropic stress, thus generalizing and
correcting previous results. We also show that significant magnetogenesis
continues to occur after recombination. The power spectrum $\sqrt{k^3 P_B} $
behaves as $ \propto k^4$ on large scales, and $\propto k^{0.5}$ on small
scales, down to $\sim 1\,$Mpc. On cluster scales, the created field has
strength $\sim 3\times 10^{-29}$ Gauss.