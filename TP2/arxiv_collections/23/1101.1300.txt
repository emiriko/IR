We present a determination of the parton distributions of the nucleon from a
global set of hard scattering data using the NNPDF methodology including heavy
quark mass effects: NNPDF2.1. In comparison to the previous NNPDF2.0 parton
determination, the dataset is enlarged to include deep--inelastic charm
structure function data. We implement the FONLL-A general-mass scheme in the
FastKernel framework and assess its accuracy by comparison to the Les Houches
heavy quark benchmarks. We discuss the impact on parton distributions of the
treatment of the heavy quark masses, and we provide a determination of the
uncertainty in the parton distributions due to uncertainty in the masses. We
assess the impact of these uncertainties on LHC observables by providing parton
sets with different values of the charm and bottom quark masses. Finally, we
construct and discuss parton sets with a fixed number of flavours.