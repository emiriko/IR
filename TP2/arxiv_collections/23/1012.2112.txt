We introduce a new quantum adversary method to prove lower bounds on the
query complexity of the quantum state generation problem. This problem
encompasses both, the computation of partial or total functions and the
preparation of target quantum states. There has been hope for quite some time
that quantum state generation might be a route to tackle the {\sc Graph
Isomorphism} problem. We show that for the related problem of {\sc Index
Erasure} our method leads to a lower bound of $\Omega(\sqrt N)$ which matches
an upper bound obtained via reduction to quantum search on $N$ elements. This
closes an open problem first raised by Shi [FOCS'02].
  Our approach is based on two ideas: (i) on the one hand we generalize the
known additive and multiplicative adversary methods to the case of quantum
state generation, (ii) on the other hand we show how the symmetries of the
underlying problem can be leveraged for the design of optimal adversary
matrices and dramatically simplify the computation of adversary bounds. Taken
together, these two ideas give the new result for {\sc Index Erasure} by using
the representation theory of the symmetric group. Also, the method can lead to
lower bounds even for small success probability, contrary to the standard
adversary method. Furthermore, we answer an open question due to \v{S}palek
[CCC'08] by showing that the multiplicative version of the adversary method is
stronger than the additive one for any problem. Finally, we prove that the
multiplicative bound satisfies a strong direct product theorem, extending a
result by \v{S}palek to quantum state generation problems.