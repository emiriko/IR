We study the superfluid-to-Bose glass transition in a disordered Bose-Hubbard
model through a very simple variational wavefunction: a permanent of
non-orthogonal single-particle wavefunctions that are variationally determined.
The transition is identified by the behavior of the superfluid stiffness. We
also introduce a less rigorous but very enlightening criterium for the
transition, which is related to the overlap matrix among the single-particle
wavefunctions that are used to built the permanent. We find that the two
criteria agree quite well. We finally consider a further quantity, the
bipartite entanglement entropy, which also provides a good estimator for the
superfluid-to-Bose glass transition.