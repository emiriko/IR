The electroluminescence of molecules confined inside a nanocavity in the
scanning tunneling microscopy possesses many intriguing but unexplained
features. We present here a general theoretical approach based on the density
matrix formalism to describe the electroluminescence from molecules near a
metal surface induced by both electron tunneling and local surface plasmon
excitations simultaneously. It reveals the underlying physical mechanism for
the external bias dependent electroluminescence. The important role played by
the local surface plasmon on the electroluminescence is highlighted.
Calculations for porphyrin derivatives have reproduced corresponding
experimental spectra and nicely explained the observed unusual large variation
of emission spectral profiles. This general theoretical approach can find many
applications in the design of molecular electronic and photonic devices.