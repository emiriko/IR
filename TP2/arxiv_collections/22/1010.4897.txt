Let G be a reductive algebraic group over Q, and suppose that Gamma is an
arithmetic subgroup of G(R) defined by congruence conditions. A basic problem
in arithmetic is to determine the multiplicities of discrete series
representations in L^2(Gamma \ G(R)), and in general to determine the traces of
Hecke operators on these spaces. In this paper we give a conjectural formula
for the traces of Hecke operators, in terms of stable distributions. It is
based on a stable version of Arthur's formula for L^2-Lefschetz numbers, which
is due to Kottwitz. We reduce this formula to the computation of elliptic
p-adic orbital integrals and the theory of endoscopic transfer. As evidence for
this conjecture, we demonstrate the agreement of the central terms of this
formula with the unipotent contributions to the multiplicity coming from
Selberg's trace formula computed by Wakatsuki, in the case G=GSp_4 and
Gamma=GSp_4(Z).