The thermodynamics of the lattice model of intercalation of ions in crystals
is considered in the mean field approximation. Pseudospin formalism is used for
the description of interaction of electrons with ions and the possibility of
hopping of intercalated ions between different positions is taken into account.
Phase diagrams are built. It is shown that the effective interaction between
intercalated ions can lead to phase separation or to appearance of modulated
phase (it depends on filling of the electron energy band). At high values of
the parameter of ion transfer the ionic subsystem can pass to the
superfluid-like state.