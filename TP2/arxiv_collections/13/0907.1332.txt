We calculate the radio-frequency spectrum of a trapped cloud of cold bosonic
atoms in an optical lattice. Using random phase and local density
approximations we produce both trap averaged and spatially resolved spectra,
identifying simple features in the spectra that reveal information about both
superfluidity and correlations. Our approach is exact in the deep Mott limit
and in the deep superfluid when the hopping rates for the two internal spin
states are equal. It contains final state interactions, obeys the Ward
identities (and the associated conservation laws), and satisfies the $f$-sum
rule. Motivated by earlier work by Sun, Lannert, and Vishveshwara [Phys. Rev. A
\textbf{79}, 043422 (2009)], we also discuss the features which arise in a
spin-dependent optical lattice.