Nonlinear force-free solutions for the magnetic field in the solar corona
constructed using photospheric vector magnetic field boundary data suffer from
a basic problem: the observed boundary data are inconsistent with the nonlinear
force-free model. Specifically, there are two possible choices of boundary
conditions on vertical current provided by the data, and the two choices lead
to different force-free solutions. A novel solution to this problem is
described. Bayesian probability is used to modify the boundary values on
current density, using field-line connectivity information from the two
force-free solutions and taking into account uncertainties, so that the
boundary data are more consistent with the two nonlinear force-free solutions.
This procedure may be iterated until a set of self-consistent boundary data
(the solutions for the two choices of boundary conditions are the same) is
achieved. The approach is demonstrated to work in application to Hinode/SOT
observations of NOAA active region 10953.