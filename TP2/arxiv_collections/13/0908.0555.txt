For $4 \nmid L$ and $g$ large, we calculate the integral Picard groups of the
moduli spaces of curves and principally polarized abelian varieties with level
$L$ structures. In particular, we determine the divisibility properties of the
standard line bundles over these moduli spaces and we calculate the second
integral cohomology group of the level $L$ subgroup of the mapping class group
(in a previous paper, the author determined this rationally). This entails
calculating the abelianization of the level $L$ subgroup of the mapping class
group, generalizing previous results of Perron, Sato, and the author. Finally,
along the way we calculate the first homology group of the mod $L$ symplectic
group with coefficients in the adjoint representation.