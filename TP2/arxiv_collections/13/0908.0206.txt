This paper collects the efforts done in our previous works [P. Degond, S.
Jin, L. Mieussens, A Smooth Transition Between Kinetic and Hydrodynamic
Equations, J. Comp. Phys., 209 (2005) 665--694.],[P.Degond, G. Dimarco, L.
Mieussens, A Moving Interface Method for Dynamic Kinetic-fluid Coupling, J.
Comp. Phys., Vol. 227, pp. 1176-1208, (2007).],[P. Degond, J.G. Liu, L.
Mieussens, Macroscopic Fluid Model with Localized Kinetic Upscaling Effects,
SIAM Multi. Model. Sim. 5(3), 940--979 (2006)] to build a robust multiscale
kinetic-fluid solver. Our scope is to efficiently solve fluid dynamic problems
which present non equilibrium localized regions that can move, merge, appear or
disappear in time. The main ingredients of the present work are the followings
ones: a fluid model is solved in the whole domain together with a localized
kinetic upscaling term that corrects the fluid model wherever it is necessary;
this multiscale description of the flow is obtained by using a micro-macro
decomposition of the distribution function [P. Degond, J.G. Liu, L. Mieussens,
Macroscopic Fluid Model with Localized Kinetic Upscaling Effects, SIAM Multi.
Model. Sim. 5(3), 940--979 (2006)]; the dynamic transition between fluid and
kinetic descriptions is obtained by using a time and space dependent transition
function; to efficiently define the breakdown conditions of fluid models we
propose a new criterion based on the distribution function itself. Several
numerical examples are presented to validate the method and measure its
computational efficiency.