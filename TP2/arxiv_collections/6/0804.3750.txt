In this paper we confirm a conjecture of Sun which states that each positive
integer is a sum of a square, an odd square and a triangular number. Given any
positive integer m, we show that p=2m+1 is a prime congruent to 3 modulo 4 if
and only if T_m=m(m+1)/2 cannot be expressed as a sum of two odd squares and a
triangular number, i.e., p^2=x^2+8(y^2+z^2) for no odd integers x,y,z. We also
show that a positive integer cannot be written as a sum of an odd square and
two triangular numbers if and only if it is of the form 2T_m (m>0) with 2m+1
having no prime divisor congruent to 3 modulo 4.