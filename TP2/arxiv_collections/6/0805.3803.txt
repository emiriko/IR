A simple formula is obtained for coupling electrons in a complex system to
the electromagnetic field. It includes the effect of intra-atomic excitations
and nuclear motion, and can be applied in. e.g., first-principles-based
simulations of the coupled dynamics of electrons and nuclei in materials and
molecules responding to ultrashort laser pulses. Some additional aspects of
nonadiabatic dynamical simulations are also discussed, including the potential
of "reduced Ehrenfest'" simulations for treating problems where standard
Ehrenfest simulations will fail.