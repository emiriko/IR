We study the random graph G_{n,\lambda/n} conditioned on the event that all
vertex degrees lie in some given subset S of the non-negative integers. Subject
to a certain hypothesis on S, the empirical distribution of the vertex degrees
is asymptotically Poisson with some parameter \mux given as the root of a
certain `characteristic equation' of S that maximises a certain function
\psis(\mu). Subject to a hypothesis on S, we obtain a partial description of
the structure of such a random graph, including a condition for the existence
(or not) of a giant component. The requisite hypothesis is in many cases
benign, and applications are presented to a number of choices for the set S
including the sets of (respectively) even and odd numbers. The random
\emph{even} graph is related to the random-cluster model on the complete graph
K_n.