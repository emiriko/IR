Analyzing the spectra from Wolf-Rayet stars requires adequate non-LTE
modeling of their expanding atmosphere. The numerical schemes for solving the
radiative transfer in the co-moving frame of reference have been developed by
Mihalas and co-workers 30 years ago. The most elaborate codes can cope today
with many hundred explicit non-LTE levels or super-levels and account for
metal-line blanketing. The limited agreement with observed spectra indicates
that the model simplifications are still severe. One approximation that has to
be blamed is homogeneity. Stellar-wind clumping on small scales was easily
implemented, while "macro-clumping" is still a big challenge. First studies
showed that macro-clumping can reduce the strength of predicted P-Cygni line
profiles in O-star spectra, and largely affects the X-ray line spectra from
stellar winds. The classical model for radiation-driven winds by Castor, Abbot
and Klein fails to explain the very dense winds from Wolf-Rayet stars. Only
when we solved the detailed non-LTE radiative transfer consistently with the
hydrodynamic equations, mass-loss rates above the single-scattering limit have
been obtained.