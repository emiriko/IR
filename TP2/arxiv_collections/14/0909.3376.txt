We study the formation of ultra-compact binaries (AM CVn stars and
ultra-compact X-ray binaries) with emphasis on the surface chemical abundances
of the donors in these systems. Hydrogen is not convincingly detected in the
spectra of these systems. Three different proposed formation scenarios involve
different donor stars, white dwarfs, helium stars or evolved main-sequence
stars. Using detailed evolutionary calculations we show that the abundances of
helium WD donors and evolved main-sequence stars are close to equilibrium
CNO-processed material, and the detailed abundances correlate with the core
temperature and thus mass of the MS progenitors. Evolved MS donors typically
have traces of H left. For hybrid or CO white dwarf donors, the carbon and
oxygen abundances depend on the temperature of the helium burning and thus on
the helium core mass of the progenitors. For helium star donors in addition to
their mass, the abundances depend strongly on the amount of helium burnt before
mass transfer starts and can range from unprocessed and thus almost equal to
CNO-processed matter, to strongly processed and thus C/O rich and N-deficient.
We briefly discuss the relative frequency of these cases for helium star
donors, based on population synthesis results. Finally we give diagnostics for
applying our results to observed systems and find that the most important test
is the N/C ratio, which can indicate the formation scenario as well as, in some
cases, the mass of the progenitor of the donor. In addition, if observed, the
N/O, O/He and O/C ratios can distinguish between helium star and WD donors.
Applied to the known systems we find evidence for WD donors in the AM CVn
systems GP Com, CE 315 and SDSS J0804+16 and evidence for hybrid WD or very
evolved helium star donors in the UCXBs 4U 1626-67 and 4U 0614+09. [Abridged]