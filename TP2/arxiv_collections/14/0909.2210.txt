We present a supersymmetric model of quark and lepton based on $S_4\times
Z_3\times Z_4$ flavor symmetry. The $S_4$ symmetry is broken down to Klein four
and $Z_3$ subgroups in the neutrino and the charged lepton sectors
respectively. Tri-Bimaximal mixing and the charged lepton mass hierarchies are
reproduced simultaneously at leading order. Moreover, a realistic pattern of
quark masses and mixing angles is generated with the exception of the mixing
angle between the first two generations, which requires a small accidental
enhancement. It is remarkable that the mass hierarchies are controlled by the
spontaneous breaking of flavor symmetry in our model. The next to leading order
contributions are studied, all the fermion masses and mixing angles receive
corrections of relative order $\lambda^2_c$ with respect to the leading order
results. The phenomenological consequences of the model are analyzed, the
neutrino mass spectrum can be normal hierarchy or inverted hierarchy, and the
combined measurement of the $0\nu2\beta$ decay effective mass $m_{\beta\beta}$
and the lightest neutrino mass can distinguish the normal hierarchy from the
inverted hierarchy.