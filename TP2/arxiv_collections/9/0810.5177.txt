Let $E$ be an optimal elliptic curve of conductor $N$, such that the
$L$-function of $E$ vanishes to order one at $s=1$. Let $K$ be a quadratic
imaginary field in which all the primes dividing $N$ split and such that the
$L$-function of $E$ over $K$ also vanishes to order one at $s=1$. In view of
the Gross-Zagier theorem, the second part of the Birch and Swinnerton-Dyer
conjecture says that the index in $E(K)$ of the subgroup generated by the
Heegner point is equal to the product of the Manin constant of $E$, the
Tamagawa numbers of $E$, and the square root of the order of the
Shafarevich-Tate group of $E$ (over $K$). We extract an integer factor from the
index mentioned above and relate this factor to certain congruences of the
newform associated to $E$ with eigenforms of analytic rank bigger than one. We
use the theory of visibility to show that, under certain hypotheses (which
includes the first part of the Birch and Swinnerton-Dyer conjecture on rank),
if an odd prime $q$ divides this factor, then $q$ divides the order of the
Shafarevich-Tate group or the order of an arithmetic component group of $E$, as
predicted by the second part of the Birch and Swinnerton-Dyer conjecture.