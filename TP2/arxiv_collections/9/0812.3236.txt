We proved a new Siegel-Weil formula for orthogonal and symplectic groups,
which will be used later to prove a generalization of Siegel-Weil formula for
loop groups.