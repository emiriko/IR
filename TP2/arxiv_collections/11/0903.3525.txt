We consider the security of the Bennett-Brassard 1984 (BB84) protocol for
Quantum Key Distribution (QKD), with arbitrary individual imperfections
simultaneously in the source and detectors. We provide the secure key
generation rate, and show that only two parameters must be bounded to ensure
security; the basis dependence of the source and a detector blinding parameter.
The system may otherwise be completely uncharacterized and contain large
losses.