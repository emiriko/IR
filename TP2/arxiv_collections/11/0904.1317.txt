We consider the mass-critical focusing nonlinear Schrodinger equation in the
presence of an external potential, when the nonlinearity is inhomogeneous. We
show that if the inhomogeneous factor in front of the nonlinearity is
sufficiently flat at a critical point, then there exists a solution which blows
up in finite time with the maximal (unstable) rate at this point. In the case
where the critical point is a maximum, this solution has minimal mass among the
blow-up solutions. As a corollary, we also obtain unstable blow-up solutions of
the mass-critical Schrodinger equation on some surfaces. The proof is based on
properties of the linearized operator around the ground state, and on a full
use of the invariances of the equation with an homogeneous nonlinearity and no
potential, via time-dependent modulations.