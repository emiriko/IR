We study the thermodynamic Casimir effect in thin films in the three
dimensional XY universality class. To this end, we simulate the improved two
component phi^4 model on the simple cubic lattice. We use lattices up to the
thickness L_0=33. Based on the results of our Monte Carlo simulations we
compute the universal finite size scaling function theta that characterizes the
behaviour of the thermodynamic Casimir force in the neighbourhood of the
critical point. We confirm that leading corrections to the universal finite
size scaling behaviour due to free boundary conditions can be expressed by an
effective thickness L_{0,eff} = L_0+ L_s, with L_s =1.02(7). Our results are
compared with experiments on films of 4He near the lambda-transition, previous
Monte Carlo simulations of the XY model on the simple cubic lattice and
field-theoretic results. Our result for the finite size scaling function theta
is essentially consistent with the experiments on films of 4He and the previous
Monte Carlo simulations.