Raman spectroscopy is a fast, non-destructive means to characterize graphene
samples. In particular, the Raman spectra show a significant dependence on
doping. While the change in position and width of the G peak can be explained
by the non-adiabatic Kohn anomaly at $\Gamma$, the significant doping
dependence of the 2D peak intensity has not been explained yet. Here we show
that this is due to a combination of electron-phonon and electron-electron
scattering. Under full resonance, the photogenerated electron-hole pairs can
scatter not just with phonons, but also with doping-induced electrons or holes,
and this changes the intensity. We explain the doping dependence and show how
it can be used to determine the corresponding electron-phonon coupling. This is
higher than predicted by density-functional theory, as a consequence of
renormalization by Coulomb interactions.