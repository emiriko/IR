Simulations of scanning tunneling microscopy measurements for molecules on
surfaces are traditionally based on a perturbative approach, most typically
employing the Tersoff-Hamann method. This assumes that the STM tip is far from
the sample so that the two do not interact with each other. However, when the
tip gets close to the molecule to perform measurements, the electrostatic
interplay between the tip and substrate may generate non-trivial potential
distribution, charge transfer and forces, all of which may alter the electronic
and physical structure of the molecule. These effects are investigated with the
ab initio quantum transport code SMEAGOL, combining non-equilibrium Green's
functions formalism with density functional theory. In particular, we
investigate alkanethiol molecules terminated with either CH3 or CF3 end-groups
on gold surfaces, for which recent experimental data are available. We discuss
the effects connected to the interaction between the STM tip and the molecule,
as well as the asymmetric charge transfer between the molecule and the
electrodes.