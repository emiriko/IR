By devising a novel framework, we present a comprehensive theoretical study
of solubilities of alkali (Li, Na, K, Rb, Cs) and alkaline earth (Be, Ca, Sr,
Ba) metals in the he boron-rich Mg-B system. The study is based on
first-principle calculations of solutes formation energies in MgB$_2$, MgB$_4$,
MgB$_7$ alloys and subsequent statistical-thermodynamical evaluation of
solubilities. The advantage of the approach consists in considering all the
known phase boundaries in the ternary phase diagram. Substitutional Na, Ca, and
Li demonstrate the largest solubilities, and Na has the highest (0.5-1 % in
MgB$_7$ at $T=650-1000$ K). All the considered interstitials have negligible
solubilities. The solubility of Be in MgB$_7$ can not be determined because the
corresponding low-solubility formation energy is negative indicating the
existence of an unknown ternary ground state. We have performed a
high-throughput search of ground states in binary Mg-B, Mg-$A$, and B-$A$
systems, and we construct the ternary phase diagrams of Mg-B-$A$ alloys based
on the stable binary phases. Despite its high temperature observations, we find
that Sr$_{9}$Mg$_{38}$ is not a low-temperature equilibrium structure. We also
determine two new possible ground states CaB$_{4}$ and RbB$_{4}$, not yet
observed experimentally.