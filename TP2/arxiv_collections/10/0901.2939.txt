Spontaneous and stimulated resonant inelastic X-ray Raman scattering signals
are calculated using the Keldysh-Schwinger closed-time path loop and expressed
as overlaps of Doorway and Window electron-hole wavepackets. These are recast
in terms of the one-particle Green's functions and expansion coefficients of
configuration interaction singles for valence excitations, which can be
obtained from standard electronic structure codes. Calculation for many-body
states of ground and core-excited system is avoided.