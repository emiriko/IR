There is an increasing theoretical and observational evidence that the
external magnetic field of magnetars may contain a toroidal component, likely
of the same order of the poloidal one. Such "twisted magnetospheres" are
threaded by currents flowing along the closed field lines which can efficiently
interact with soft thermal photons via resonant cyclotron scatterings (RCS).
Actually, RCS spectral models proved quite successful in explaining the
persistent ~1-10 keV emission from the magnetar candidates, the soft gamma-ray
repeaters (SGRs) and the anomalous X-ray pulsars (AXPs). Moreover, it has been
proposed that, in presence of highly relativistic electrons, the same process
can give rise to the observed hard X-ray spectral tails extending up to ~200
keV. Spectral calculations have been restricted up to now to the case of a
globally twisted dipolar magnetosphere, although there are indications that the
twist may be confined only to a portion of the magnetosphere, and/or that the
large scale field is more complex than a simple dipole. In this paper we
investigate multipolar, force-free magnetospheres of ultra-magnetized neutron
stars. We first discuss a general method to generate multipolar solutions of
the Grad- Schluter-Shafranov equation, and analyze in detail dipolar,
quadrupolar and octupolar fields. The spectra and lightcurves for these
multipolar, globally twisted fields are then computed using a Monte Carlo code
and compared with those of a purely dipolar configuration. Finally the
phase-resolved spectra and energy-dependent lightcurves obtained with a simple
model of a locally sheared field are confronted with the INTEGRAL observations
of the AXPs 1RXS J1708-4009 and 4U 0142+61. Results support a picture in which
the field in these two sources is not globally twisted.