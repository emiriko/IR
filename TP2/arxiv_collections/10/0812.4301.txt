An efficiency-loophole-free quantum key distribution (QKD) scheme is
proposed, which involves no hardware change but a modification in the data
post-processing step. The scheme applies to a generic class of detection
systems which allow correlations between the detection efficiency and the
outcomes. We study the system transmittance and the detection error rate that
allow implementing this scheme. We also consider the case that a quantum memory
is used to boost the performance and investigate the criteria of the readout
probability. The simulation result shows that the lowest tolerable system
transmittance (readout probability) is 50%, while the necessary efficiency for
an efficiency-loophole-free Bell's inequality test is 82.8%.