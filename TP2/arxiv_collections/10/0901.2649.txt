We investigate the question of optimal input ensembles for memory channels
and construct a rather large class of Pauli channels with correlated noise
which can be studied analytically with regard to the entanglement of their
optimal input ensembles. In a more detailed study of a subclass of these
channels, the complete phase diagram of the two-qubit channel, which shows
three distinct phases is obtained. While increasing the correlation generally
changes the optimal state from separable to maximally entangled states, this is
done via an intermediate region where both separable and maximally entangled
states are optimal. A more concrete model, based on random rotations of the
error operators which mimic the behavior of this subclass of channels is also
presented.