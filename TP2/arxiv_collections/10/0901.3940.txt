We analyze the single-photon transport in a single-mode waveguide coupled to
a whispering-gallery-type resonator interacting with a two-level atom. The
single-photon transport properties such as the transmission and reflection
amplitudes, as well as the resonator and the atom responses, are solved exactly
via a real-space approach. The treatment includes the inter-mode backscattering
between the two degenerate whispering gallery modes of the resonator, and the
dissipations of the resonator and the atom. We also show that a generalized
critical coupling condition, that the single-photon transmission at the output
of the waveguide goes to zero on resonance for a matched system, holds for the
full coupled waveguide-ring resonator-atom system.