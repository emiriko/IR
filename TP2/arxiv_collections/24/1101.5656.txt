There are mainly two different approaches to measure the cosmic star
formation history: direct star formation rate density (SFRD) and stellar mass
density rhostar as functions of redshift. Compilations of current observations
seem to show a disparity in the two quantities, in the sense that the integral
of SFRD is higher than the observed rhostar (after considering gas recycling).
Using cosmological smoothed particle hydrodynamics simulations based on the
concordance Lambda cold dark matter model, we show that the two quantities
become more consistent with each other when we consider the observed galaxy
mass limit. The comparison between simulations and (dust corrected) observed
cosmic SFRD shows a good agreement, while the observed rhostar is significantly
lower than the simulation results. This can be reconciled if the current
high-$z$ galaxy surveys are missing faint low-mass galaxies due to their flux
limit. Our simulated GSMFs have steep low-mass end slopes of alpha < -2 at z>3,
and when these numerous low-mass galaxies are included, the total rhostar
matches with the integral of SFRD.