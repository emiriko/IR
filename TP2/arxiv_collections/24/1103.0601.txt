Counterfactual quantum cryptography (CQC), recently proposed by Noh, is
featured with no transmission of signal particles. This exhibits evident
security advantage, such as its immunity to the well known PNS attack. In this
paper, the theoretical security of CQC protocol against the general
intercept-resend attacks is proved by bounding the information of an
eavesdropper Eve more tightly than in Yin's proposal[Phys. Rev. A 82, 042335
(2010)]. It is also showed that practical CQC implementations may be vulnerable
when equipped with imperfect apparatuses, by proving that a negative key rate
can be achieved when Eve launches a time-shift attack based on imperfect
detector efficiency.