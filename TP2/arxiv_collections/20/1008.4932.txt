In this contribution we review our recent numerical work discussing the
essential role of the local cluster environment in assembling massive stars.
First we show that massive stars are formed from low mass pre-stellar cores and
become massive due to accretion. Proto-stars that benefit from this accretion
are those situated at the centre of a cluster's potential well, which is the
focal point of the contraction of the cluster gas. Given that most of the mass
which makes up a massive star in this model comes from the cluster environment
rather than the core, it is important to model the molecular cloud environment
accurately. Preliminary results of a simulation which accurately treats the
chemistry and time-dependent thermodynamics of a molecular cloud show
quantitatively similar star formation to previous models, but allow a true
comparison to be made between simulation and observations. This method can also
be applied to cases with varying metallicities allowing star formation in
primordial gas to be studied. In general, these numerical studies of clustered
star formation yield IMFs which are compatible with the Salpeter mass function.
The only possible exception to this is in low density unbound regions of
molecular clouds which lack very low and high mass stars.