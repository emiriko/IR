We study the switching-process of the magnetization in a
ferromagnetic-normal-metal multilayer system by a spin polarized electrical
current via the spin transfer torque. We use a spin drift-diffusion equation
(SDDE) and the Landau-Lifshitz-Gilbert equation (LLGE) to capture the coupled
dynamics of the spin density and the magnetization dynamic of the
heterostructure. Deriving a fully analytic solution of the stationary SDDE we
obtain an accurate, robust, and fast self-consistent model for the
spin-distribution and spin transfer torque inside general ferromagnetic/normal
metal heterostructures. Using optimal control theory we explore the switching
and back-switching process of the analyzer magnetization in a seven-layer
system. Starting from a Gaussian, we identify a unified current pulse profile
which accomplishes both processes within a specified switching time.