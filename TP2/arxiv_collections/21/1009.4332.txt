We derive a formula which enable us to evaluate the ADM mass in a more
general curved spacetime. We apply the formula to evaluate the thermodynamical
quantities of the Melvin magnetic black D-branes. We see that there is the
Hawking-Page phase transition and the corresponding dual gauge theory will show
the confinement-deconfinement transition under magnetic flux.