This paper deals with numerical solutions of maximizing expected utility from
terminal wealth under a non-bankruptcy constraint. The wealth process is
subject to shocks produced by a general marked point process. The problem of
the agent is to derive the optimal insurance strategy which allows "lowering"
the level of the shocks. This optimization problem is related to a suitable
dual stochastic control problem in which the delicate boundary constraints
disappear. In Mnif \cite{mnif10}, the dual value function is characterized as
the unique viscosity solution of the corresponding Hamilton Jacobi Bellman
Variational Inequality (HJBVI in short). We characterize the optimal insurance
strategy by the solution of the variational inequality which we solve
numerically by using an algorithm based on policy iterations.