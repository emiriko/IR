Current models of galaxy formation lack an efficient and physically
constrained mechanism to regulate star formation (SF) in low and intermediate
mass galaxies. We argue that the missing ingredient could be the effect of
photoionization by local sources on the gas cooling. We show that the soft
X-ray and EUV flux generated by SF is able to efficiently remove the main
coolants (e.g., HeII, OV and FeIX) from the halo gas via direct
photoionization. As a consequence, the cooling and accretion time of the gas
surrounding star-forming galaxies may increase by one or two orders of
magnitude. For a given halo mass and redshift, the effect is directly related
to the value of the star formation rate (SFR). Our results suggest the
existence of a critical SFR above which "cold" mode accretion is stopped, even
for haloes with virial masses well below the critical shock-heating mass
suggested by previous studies.The evolution of the critical SFR with redshift,
for a given halo mass, resembles the respective steep evolution of the observed
SFR for z<1. This suggests that photoionization by local sources would be able
to regulate gas accretion and star formation, without the need for additional,
strong feedback processes.