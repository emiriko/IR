We study underdoped high-Tc superconductors YBa2Cu3O6.5 and YBa2Cu4O8 using
first-principles pseudopotential methods with additional Coulomb interactions
at the Cu atoms, and obtain Fermi-surface pocket areas in close agreement with
measured Shubnikov-de Haas and de Haas-van Alphen oscillations. With
antiferromagnetic order in CuO2 planes, stable in the calculations, small hole
pockets are formed near the so-called Fermi-arc positions in the Brillouin zone
which reproduce the low-frequency oscillations. A large electron pocket,
necessary for the negative Hall coefficient, is also formed in YBa2Cu3O6.5,
giving rise to the high-frequency oscillations as well. Effective masses and
specific heats are also calculated and compared with measurements. Our results
highlight the important role of magnetic order in the electronic structure of
underdoped high-Tc superconductors.