We propose and investigate an optical scheme for probabilistic implementation
of an arbitrary single-mode quantum operation that can be expressed as a
function of photon number operator. The scheme coherently combines multiple
photon addition and subtraction and is feasible with current technology. As
concrete examples, we demonstrate that the device can perform approximate
noiseless linear amplification of light and can emulate Kerr nonlinearity.