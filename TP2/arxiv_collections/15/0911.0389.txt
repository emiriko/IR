We consider an ultracold quantum degenerate gas in an optical lattice inside
a cavity. This system represents a simple but key model for "quantum optics
with quantum gases," where a quantum description of both light and atomic
motion is equally important. Due to the dynamical entanglement of atomic motion
and light, the measurement of light affects the many-body atomic state as well.
The conditional atomic dynamics can be described using the Quantum Monte Carlo
Wave Function Simulation method. In this paper, we emphasize how this usually
complicated numerical procedure can be reduced to an analytical solution after
some assumptions and approximations valid for macroscopic Bose-Einstein
condensates (BEC) with large atom numbers. The theory can be applied for
lattices with both low filling factors (e.g. one atom per lattice site in
average) and very high filling factors (e.g. a BEC in a double-well potential).
The purity of the resulting multipartite entangled atomic state is analyzed.