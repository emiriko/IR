We study the growth of massive black holes (BH) in galaxies using smoothed
particle hydrodynamic simulations of major galaxy mergers with new
implementations of BH accretion and feedback. The effect of BH accretion on gas
in its host galaxy is modeled by depositing momentum at a rate ~ tau L/c into
the ambient gas, where L is the luminosity produced by accretion onto the BH
and tau is the wavelength-averaged optical depth of the galactic nucleus to the
AGN's radiation (a free parameter of our model). The accretion rate onto the BH
is relatively independent of our subgrid accretion model and is instead
determined by the BH's dynamical impact on its host galaxy: BH accretion is
thus self-regulated rather than `supply limited.' We show that the final BH
mass and total stellar mass formed during a merger are more robust predictions
of the simulations than the time dependence of the star formation rate or BH
accretion rate. In particular, the latter depend on the assumed interstellar
medium physics, which determines when and where the gas fragments to form star
clusters; this in turn affects the fuel available for further star formation
and BH growth. Simulations over a factor of ~ 30 in galaxy mass are consistent
with the observed M_BH-sigma relation for a mean optical depth of tau ~ 25.
This requires that most BH growth occur when the galactic nucleus is optically
thick to far-infrared radiation, consistent with the hypothesized connection
between ultra-luminous infrared galaxies and quasars. We find tentative
evidence for a shallower M_BH-sigma relation in the lowest mass galaxies, sigma
< 100 km/s. Our results demonstrate that feedback-regulated BH growth and
consistency with the observed M_BH-sigma relation do not require that BH
feedback terminate star formation in massive galaxies or unbind large
quantities of cold gas.