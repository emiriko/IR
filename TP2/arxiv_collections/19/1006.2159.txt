A smooth inflaton potential is generally assumed when calculating the
primordial power spectrum, implicitly assuming that a very small oscillation in
the inflaton potential creates a negligible change in the predicted halo mass
function. We show that this is not true. We find that a small oscillating
perturbation in the inflaton potential in the slow-roll regime can alter
significantly the predicted number of small halos. A class of models derived
from supergravity theories gives rise to inflaton potentials with a large
number of steps and many transplanckian effects may generate oscillations in
the primordial power spectrum. The potentials we study are the simple quadratic
(chaotic inflation) potential with superimposed small oscillations for small
field values. Without leaving the slow-roll regime, we find that for a wide
choice of parameters, the predicted number of halos change appreciably. For the
oscillations beginning in the 10^7-10^8 solar masses range, for example, we
find that only a 5% change in the amplitude of the chaotic potential causes a
50% suppression of the number of halos for masses between 10^7-10^8 solar
masses and an increase in the number of halos for masses <10^6 solar masses by
factors ~15-50. We suggest that this might be a solution to the problem of the
lack of observed dwarf galaxies in the range 10^7-10^8 solar masses. This might
also be a solution to the reionization problem where a very large number of
Population III stars in low mass halos are required.