Recurrent relations for branching coefficients in affine Lie algebras
integrable highest weight modules are studied. The decomposition algorithm
based on the injection fan technique is developed for the case of an arbitrary
reductive subalgebra. In particular we consider the situation where the Weyl
denominator becomes singular with respect to the subalgebra. We demonstrate
that for any reductive subalgebra it is possible to define the injection fan
and the analogue of the Weyl numerator - the tools that describe explicitly the
recurrent properties of branching coefficients. Possible applications of the
fan technique in CFT models are considered.