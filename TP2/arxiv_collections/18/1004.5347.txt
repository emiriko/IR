Primordial black hole (PBH) abundance limits constrain the primordial power
spectrum, and hence models of inflation, on scales far smaller than those
probed by cosmological observations. Single field inflation models which are
compatible with all cosmological data can have large enough perturbations on
small scales to overproduce PBHs, and hence be excluded. The standard formulae
for the amplitude of perturbations do not hold for modes that exit the horizon
close to the end of inflation however. We use a modified flow analysis to
identify models of inflation where the amplitude of perturbations on small
scales is large. For these models we then carry out a numerical evolution of
the perturbations and use the PBH constraints on the power spectrum to
eliminate models which overproduce PBHs. Significant PBH formation can occur in
models in which inflation can continue indefinitely and is ended via a
secondary mechanism. We demonstrate that PBHs constrain these types of
inflation models and show that a numerical evaluation of the power spectrum
decreases the number of otherwise viable models of inflation.