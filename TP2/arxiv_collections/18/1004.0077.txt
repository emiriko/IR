We extend Donaldson's diagonalization theorem to intersection forms with
certain local coefficients, under some constraints. This provides new examples
of non-smoothable topological 4-manifolds.