We study the gravitational fragmentation of cold accretion streams flowing
into a typical first galaxy. We use a one-zone hydrodynamical model to examine
the thermal evolution of the gas entering a 10^8 M_sun DM halo at z=10. The
goal is to find the expected fragmentation mass scale and thus a characteristic
mass of the first population of stars to form by shock fragmentation at high
redshift. Our model accurately describes the chemical and thermal evolution of
the gas as we are specifically concerned with how the cooling of the gas alters
its fragmentation properties. We find there to be a sharp drop in the
fragmentation mass at a metallicity of ~10^-4 Z_sun when a strong molecule
destroying, LW background is present. However, If molecules can efficiently
form, they dominate the cooling at T < 10^4 K, demonstrating no 'critical
metallicity'. Dust grains are not included in our chemical model, but we argue
their inclusion would not significantly the results. We also find that this
physical scenario allows for the formation of a cluster of solar mass
fragments, or a single 10^4 M_sun fragment, possibly the precursors to primeval
clusters and SMBHs. Lastly, we conclude that the usual assumption of
isobaricity for galactic shocks breaks down in gas of sufficiently high
metallicity, suggesting that metal cooling may lead to thermal instabilities.