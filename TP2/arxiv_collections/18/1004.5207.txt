We describe a simple scheme to construct a low-energy effective Hamiltonian
H_eff for highly correlated systems containing non-metals like O, P or As (O in
what follows) and a transition-metal (M) as the active part in the electronic
structure, eliminating the O degrees of freedom from a starting Hamiltonian
that contains all M d orbitals and all non-metal p orbitals. We calculate all
interaction terms between d electrons originating from Coulomb repulsion, as a
function of three parameters (F_0, F_2 and F_4) and write them in a basis of
orbitals appropriate for cubic, tetragonal, tetrahedral or hexagonal symmetry
around M. The approach is based on solving exactly (numerically if necessary) a
MO_n cluster containing the transition-metal atom and its n nearest O atoms
(for example a CoO_6 cluster in the case of the cobaltates, or a CuO_n cluster
in the case of the cuprates, in which n depends on the number of apical O
atoms), and mapping them into many-body states of the same symmetry containing
d holes only. We illustrate the procedure for the case of Na_xCoO_2. The
resulting H_eff, including a trigonal distortion D, has been studied recently
and its electronic structure agrees well with angle-resolved photoemission
spectra [A. Bourgeois, A. A. Aligia, and M. J. Rozenberg, Phys. Rev. Lett. 102,
066402 (2009)]. Although H_eff contains only 3d t_2g holes, the highly
correlated states that they represent contain an important amount not only of O
2p holes but also of 3d e_g holes. When more holes are added, a significant
redistribution of charge takes place. As a consequence of these facts, the
resulting values of the effective interactions between t_2g states are smaller
than previously assumed, rendering more important the effect of D in obtaining
only one sheet around the center of the Brillouin zone for the Fermi surface
(without additional pockets).