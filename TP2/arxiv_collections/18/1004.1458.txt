We study the phase diagram of two different Hamiltonians with competiting
local, nearest-neighbour, and mean-field couplings. The first example
corresponds to the HMF Hamiltonian with an additional short-range interaction.
The second example is a reduced Hamiltonian for dipolar layered spin
structures, with a new feature with respect to the first example, the presence
of anisotropies. The two examples are solved in both the canonical and the
microcanonical ensemble using a combination of the min-max method with the
transfer operator method. The phase diagrams present typical features of
systems with long-range interactions: ensemble inequivalence, negative specific
heat and temperature jumps. Moreover, in a given range of parameters, we report
the signature of phase reentrance. This can also be interpreted as the presence
of azeotropy with the creation of two first order phase transitions with
ensemble inequivalence, as one parameter is varied continuously.