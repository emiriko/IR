In this article we consider the anisotropic Calderon problem and related
inverse problems. The approach is based on limiting Carleman weights,
introduced in Kenig-Sjoestrand-Uhlmann (Ann. of Math. 2007) in the Euclidean
case. We characterize those Riemannian manifolds which admit limiting Carleman
weights, and give a complex geometrical optics construction for a class of such
manifolds. This is used to prove uniqueness results for anisotropic inverse
problems, via the attenuated geodesic X-ray transform. Earlier results in
dimension $n \geq 3$ were restricted to real-analytic metrics.