The application of the Lifshitz theory to describe the thermal Casimir force
between dielectrics and semiconductors is considered. It is shown that for all
true dielectrics (i.e., for all materials having zero conductivity at zero
temperature) the inclusion of a nonzero conductivity arising at nonzero
temperature into the model of dielectric response leads to the violation of the
Nernst heat theorem. This result refers equally to simple insulators, intrinsic
semiconductors, Mott-Hubbard dielectrics and doped semiconductors with doping
concentration below a critical value. We demonstrate that in the
insulator-metal transition the Casimir free energy changes abruptly
irrespective of whether the conductivity changes continuously or
discontinuously. The application of the Lifshitz formula to polar dielectrics
results in large thermal correction that is linear in temperature. A rule is
formulated on how to apply the Lifshitz theory to real materials in agreement
with thermodynamics and experiment.