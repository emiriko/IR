We extend a linear version of the liquidity risk model of Cetin et al. (2004)
to allow for price impacts. We show that the impact of a market order on prices
depends on the size of the transaction and the level of liquidity. We obtain a
simple characterization of self-financing trading strategies and a sufficient
condition for no arbitrage. We consider a stochastic volatility model in which
the volatility is partly correlated with the liquidity process and show that,
with the use of variance swaps, contingent claims whose payoffs depend on the
value of the asset can be approximately replicated in this setting. The
replicating costs of such payoffs are obtained from the solutions of BSDEs with
quadratic growth and analytical properties of these solutions are investigated.