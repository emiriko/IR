The technological performances of metallic compounds are largely influenced
by atomic ordering. Although there is a general consensus that successful
theories of metallic systems should account for the quantum nature of the
electronic glue, existing non-perturbative high-temperature treatments are
based on effective classical atomic Hamiltonians. We propose a solution for the
above paradox and offer a fully quantum mechanical, though approximate, theory
that on equal footing deals with both electrons and ions. By taking advantage
of a coarse grained formulation of the density functional theory [Bruno et al.,
Phys. Rev. B 77, 155108 (2008)] we develop a MonteCarlo technique, based on an
ab initio Hamiltonian, that allows for the efficient evaluation of finite
temperature statistical averages. Calculations of the relevant thermodynamic
quantities and of the electronic structures for CuZn and Ni$_3$V support that
our theory provides an appropriate description of order-disorder phase
transitions.