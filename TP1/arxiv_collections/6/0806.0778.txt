We show a family of virial-type identities for the Schr\"odinger and wave
equations with electromagnetic potentials. As a consequence, some weak
dispersive inequalities in space dimension $n\geq3$, involving Morawetz and
smoothing estimates, are proved; finally, we apply them to prove Strichartz
inequalities for the wave equation with a non-trapping electromagnetic
potential with almost Coulomb decay.