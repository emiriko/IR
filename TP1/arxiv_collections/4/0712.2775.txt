We study the topological string on compact Calabi-Yau threefolds in the
presence of orientifolds and D-branes. In examples, we find that the total
topological string amplitude admits a BPS expansion only if the topological
charge of the D-brane is equal to that of the orientifold plane. We interpret
this as a manifestation of a general tadpole cancellation condition in the
topological string that is necessary for decoupling of A- and B-model in loop
amplitudes. Our calculations in the A-model involve an adapted version of
existing localization techniques, and give predictions for the real enumerative
geometry of higher genus curves in Calabi-Yau manifolds. In the B-model, we
introduce an extension of the holomorphic anomaly equation to unoriented
strings.