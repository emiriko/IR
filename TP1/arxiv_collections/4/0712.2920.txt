We investigate the effects of disorder on driven lattice gases with open
boundaries using the totally asymmetric simple exclusion process as a
paradigmatic example. Disorder is realized by randomly distributed defect sites
with reduced hopping rate. In contrast to equilibrium, even macroscopic
quantities in disordered non-equilibrium systems depend sensitively on the
defect sample. We study the current as function of the entry and exit rates and
the realization of disorder and find that it is, in leading order, determined
by the longest stretch of consecutive defect sites (single-bottleneck
approximation, SBA). Using results from extreme value statistics the SBA allows
to study ensembles with fixed defect density which gives accurate results, e.g.
for the expectation value of the current. Corrections to SBA come from
effective interactions of bottlenecks close to the longest one. Defects close
to the boundaries can be described by effective boundary rates and lead to
shifts of the phase transitions. Finally it is shown that the SBA also works
for more complex models. As an example we discuss a model with internal states
that has been proposed to describe transport of the kinesin KIF1A.