We study knotted polymers in equilibrium with an array of obstacles which
models confinement in a gel or immersion in a melt. We find a crossover in both
the geometrical and the topological behavior of the polymer. When the polymers'
radius of gyration, $R_G$, and that of the region containing the knot,
$R_{G,k}$, are small compared to the distance b between the obstacles, the knot
is weakly localised and $R_G$ scales as in a good solvent with an amplitude
that depends on knot type. In an intermediate regime where $R_G > b > R_{G,k}$,
the geometry of the polymer becomes branched. When $R_{G,k}$ exceeds b, the
knot delocalises and becomes also branched. In this regime, $R_G$ is
independent of knot type. We discuss the implications of this behavior for gel
electrophoresis experiments on knotted DNA in weak fields.