The mass distribution of halos, as specified by the halo mass function, is a
key input for several cosmological probes. The sizes of $N$-body simulations
are now such that, for the most part, results need no longer be
statistics-limited, but are still subject to various systematic uncertainties.
We investigate and discuss some of the reasons for these differences.
Quantifying error sources and compensating for them as appropriate, we carry
out a high-statistics study of dark matter halos from 67 $N$-body simulations
to investigate the mass function and its evolution for a reference $\Lambda$CDM
cosmology and for a set of $w$CDM cosmologies. For the reference $\Lambda$CDM
cosmology (close to WMAP5), we quantify the breaking of universality in the
form of the mass function as a function of redshift, finding an evolution of as
much as 10% away from the universal form between redshifts $z=0$ and $z=2$. For
cosmologies very close to this reference we provide a fitting formula to our
results for the (evolving) $\Lambda$CDM mass function over a mass range of
$6\cdot 10^{11}-3\cdot 10^{15}$ M$_{\odot}$ to an estimated accuracy of about
2%. The set of $w$CDM cosmologies is taken from the Coyote Universe simulation
suite. The mass functions from this suite (which includes a $\Lambda$CDM
cosmology and others with $w\simeq-1$) are described by the fitting formula for
the reference $\Lambda$CDM case at an accuracy level of 10%, but with clear
systematic deviations. We argue that, as a consequence, fitting formulae based
on a universal form for the mass function may have limited utility in high
precision cosmological applications.