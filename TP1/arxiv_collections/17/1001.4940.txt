We consider an inverse problem for a hyperbolic partial differential equation
on a compact Riemannian manifold. Assuming that $\Gamma_1$ and $\Gamma_2$ are
two disjoint open subsets of the boundary of the manifold we define the
restricted Dirichlet-to-Neumann operator $\Lambda_{\Gamma_1,\Gamma_2}$. This
operator corresponds the boundary measurements when we have smooth sources
supported on $\Gamma_1$ and the fields produced by these sources are observed
on $\Gamma_2$. We show that when $\Gamma_1$ and $\Gamma_2$ are disjoint but
their closures intersect at least at one point, then the restricted
Dirichlet-to-Neumann operator $\Lambda_{\Gamma_1,\Gamma_2}$ determines the
Riemannian manifold and the metric on it up to an isometry. In the Euclidian
space, the result yields that an anisotropic wave speed inside a compact body
is determined, up to a natural coordinate transformations, by measurements on
the boundary of the body even when wave sources are kept away from receivers.
Moreover, we show that if we have three arbitrary non-empty open subsets
$\Gamma_1,\Gamma_2$, and $\Gamma_3$ of the boundary, then the restricted
Dirichlet-to-Neumann operators $\Lambda_{\Gamma_j,\Gamma_k}$ for $1\leq j<k\leq
3$ determine the Riemannian manifold to an isometry. Similar result is proven
also for the finite-time boundary measurements when the hyperbolic equation
satisfies an exact controllability condition.