The holonomic rank of the A-hypergeometric system M_A(\beta) is the degree of
the toric ideal I_A for generic parameters; in general, this is only a lower
bound. To the semigroup ring of A we attach the ranking arrangement and use
this algebraic invariant and the exceptional arrangement of nongeneric
parameters to construct a combinatorial formula for the rank jump of
M_A(\beta). As consequences, we obtain a refinement of the stratification of
the exceptional arrangement by the rank of M_A(\beta) and show that the Zariski
closure of each of its strata is a union of translates of linear subspaces of
the parameter space. These results hold for generalized A-hypergeometric
systems as well, where the semigroup ring of A is replaced by a nontrivial
weakly toric module M contained in \CC[\ZZ A]. We also provide a direct proof
of the result of M. Saito and W. Traves regarding the isomorphism classes of
M_A(\beta).