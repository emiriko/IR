We present a new technique for pixel hit reconstruction with the CMS pixel
detector. The technique is based on fitting the pixel cluster projections to
templates obtained using a detailed simulation called Pixelav. Pixelav
successfully describes the profiles of clusters measured in beam tests of
radiation-damaged sensors. Originally developed to optimally estimate the
coordinates of hits after the radiation damage, the technique has superior
performance before irradiation as well, reducing the resolution tails of
reconstructed track parameters and significantly reducing the light quark
background of tagged b-quarks. It is the only technique currently available to
simulate hits from a radiation-damaged detector.