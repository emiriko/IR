Pre-edge features in X-ray absorption spectroscopy contain key information
about the lowest excited states and thus on the most interesting physical
properties of the system. In transition metal oxides they are particularly
structured but extracting physical parameters by comparison with a calculation
is not easy due to several computational challenges. By combining core-hole
attraction and correlation effects in first principles approach, we calculate
Ni K-edge X-ray absorption spectra in NiO. We obtain a striking, parameter-free
agreement with experimental data and show that dipolar pre-edge features above
the correlation gap are due to non-local excitations largely unaffected by the
core-hole. We show that in charge transfer insulators, this property can be
used to measure the correlation gap and probe the intrinsic position of the
upper-Hubbard band.