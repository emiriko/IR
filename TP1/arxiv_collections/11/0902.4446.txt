The integrated branching fraction of the process $B\to X_s l^+l^-$ is
dominated by resonance background from narrow charmonium states, such as $B\to
X_s\psi\to X_s l^+l^-$, which exceeds the non-resonant charm-loop contribution
by two orders of magnitude. The origin of this fact is discussed in view of the
general expectation of quark-hadron duality. The situation in $B\to X_s l^+l^-$
is contrasted with charm-penguin amplitudes in two-body hadronic B decays of
the type $B\to\pi\pi$, for which it is demonstrated that resonance effects and
the potentially non-perturbative $c\bar c$ threshold region do not invalidate
the standard picture of QCD factorization. This holds irrespective of whether
the charm quark is treated as a light or a heavy quark.