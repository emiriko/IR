We show that certain structures and constructions of the Whitham theory, an
essential part of the perturbation theory of soliton equations, can be
instrumental in understanding the geometry of the moduli spaces of Riemann
surfaces with marked points. We use the ideas of the Whitham theory to define
local coordinates and construct foliations on the moduli spaces. We use these
constructions to give a new proof of the Diaz' bound on the dimension of
complete subvarieties of the moduli spaces. Geometrically, we study the
properties of meromorphic differentials with real periods, and their
degenerations.