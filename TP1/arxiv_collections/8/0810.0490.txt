A variational approach is used to develop a robust numerical procedure for
solving the nonlinear Poisson-Boltzmann equation. Following Maggs et al., we
construct an appropriate constrained free energy functional, such that its
Euler-Lagrange equations are equivalent to the Poisson-Boltzmann equation. We
then develop, implement, and test an algorithm for its numerical minimization,
which is quite simple and unconditionally stable. The analytic solution for
planar geometry is used for validation. Furthermore, some results are presented
for a charged colloidal sphere surrounded by counterions.