In the realistic quantum key distribution (QKD), Alice and Bob respectively
get a quantum state from an unknown channel, whose dimension may be unknown.
However, while discussing the security, sometime we need to know exact
dimension, since current exponential de Finetti theorem, crucial to the
information-theoretical security proof, is deeply related with the dimension
and can only be applied to finite dimensional case. Here we address this
problem in detail. We show that if POVM elements corresponding to Alice and
Bob's measured results can be well described in a finite dimensional subspace
with sufficiently small error, then dimensions of Alice and Bob's states can be
almost regarded as finite. Since the security is well defined by the smooth
entropy, which is continuous with the density matrix, the small error of state
actually means small change of security. Then the security of
unknown-dimensional system can be solved. Finally we prove that for heterodyne
detection continuous variable QKD and differential phase shift QKD, the
collective attack is optimal under the infinite key size case.