We present a new computer code for modeling magnetized neutron star
atmospheres in a wide range of magnetic fields (10^{12} - 10^{15} G) and
effective temperatures (3 \times 10^5 - 10^7 K). The atmosphere is assumed to
consist either of fully ionized electron-ion plasmas or of partially ionized
hydrogen. Vacuum resonance and partial mode conversion are taken into account.
Any inclination of the magnetic field relative to the stellar surface is
allowed. We use modern opacities of fully or partially ionized plasmas in
strong magnetic fields and solve the coupled radiative transfer equations for
the normal electromagnetic modes in the plasma. Using this code, we study the
possibilities to explain the soft X-ray spectra of isolated neutron stars by
different atmosphere models.
  In particular, the outgoing spectrum using the "sandwich" model (thin
atmosphere with a hydrogen layer above a helium layer) is constructed. Thin
partially ionized hydrogen atmospheres with vacuum polarization are shown to be
able to improve our understanding of the observed spectrum of the nearby
isolated neutron star RBS 1223 (RX J1308.8+2127).