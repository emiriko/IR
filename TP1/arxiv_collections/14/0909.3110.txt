The stellar mass in disk galaxies scales approximately with the fourth power
of the rotation velocity, and the masses of the central black holes in galactic
nuclei scale approximately with the fourth power of the bulge velocity
dispersion. It is shown here that these relations can be accounted for if, in a
forming galaxy with an isothermal mass distribution, gas with a column density
above about 8 Msun/pc^2 goes into stars while gas with a column density above
about 2 g/cm^2 (10^4 Msun/pc^2) goes into a central black hole. The lower
critical value is close to the column density of about 10 Msun/pc^2 at which
atomic gas becomes molecular, and the upper value agrees approximately with the
column density of about 1 g/cm^2 at which the gas becomes optically thick to
its cooling radiation. These results are plausible because molecule formation
is evidently necessary for star formation, and because the onset of a high
optical depth in a galactic nucleus may suppress continuing star formation and
favour the growth of a central black hole.