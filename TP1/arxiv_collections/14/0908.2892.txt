Let $M$ be a complete connected Riemannian manifold with boundary $\pp M$,
$Q$ a bounded continuous function on $\pp M$, and $L= \DD+Z$ for a $C^1$-vector
field $Z$ on $M$. By using the reflecting diffusion process generated by $L$
and its local time on the boundary, a probabilistic formula is presented for
the semigroup generated by $L$ on $M$ with Robin boundary condition $N,\nn
f+Qf=0,$ where $N$ is the inward unit normal vector field of $\pp M$. As an
application, the HWI inequality is established on manifolds with (nonconvex)
boundary. In order to study this semigroup, Hsu's gradient estimate and the
corresponding Bismut's derivative formula are established on a class of
noncompact manifolds with boundary.