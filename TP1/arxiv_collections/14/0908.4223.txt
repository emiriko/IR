The goal of this paper is to construct infinite dimensional Lie algebras
using infinite product identities, and to use these Lie algebras to reduce the
generalized moonshine conjecture to a pair of hypotheses about group actions on
vertex algebras and Lie algebras. The Lie algebras that we construct
conjecturally appear in an orbifold conformal field theory with symmetries
given by the monster simple group.
  We introduce vector-valued modular functions attached to families of modular
functions of different levels, and we prove infinite product identities for a
distinguished class of automorphic functions on a product of two half-planes.
We recast this result using the Borcherds-Harvey-Moore singular theta lift, and
show that the vector-valued functions attached to completely replicable modular
functions with integer coefficients lift to automorphic functions with infinite
product expansions at all cusps.
  For each element of the monster simple group, we construct an infinite
dimensional Lie algebra, such that its denominator formula is an infinite
product expansion of the automorphic function arising from that element's
McKay-Thompson series. These Lie algebras have the unusual property that their
simple roots and all root multiplicities are known. We show that under certain
hypotheses, characters of groups acting on these Lie algebras form functions on
the upper half plane that are either constant or invariant under a genus zero
congruence group.