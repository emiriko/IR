We develop an approach to Khovanov homology of knots via gauge theory
(previous physics-based approches involved other descriptions of the relevant
spaces of BPS states). The starting point is a system of D3-branes ending on an
NS5-brane with a nonzero theta-angle. On the one hand, this system can be
related to a Chern-Simons gauge theory on the boundary of the D3-brane
worldvolume; on the other hand, it can be studied by standard techniques of
$S$-duality and $T$-duality. Combining the two approaches leads to a new and
manifestly invariant description of the Jones polynomial of knots, and its
generalizations, and to a manifestly invariant description of Khovanov
homology, in terms of certain elliptic partial differential equations in four
and five dimensions.