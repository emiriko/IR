The open question of what prevents a metric space with bounded geometry from
being uniformly embeddable in Hilbert space is answered here for box spaces of
residually finite groups. We prove that a box space does not contain a
uniformly embedded expander sequence if and only if it uniformly embeds in
Hilbert space. In particular, this gives a sufficient condition for a
residually finite group to have the Haagerup property. The main result holds in
the more general setting of a disjoint union of Cayley graphs of finite groups
with bounded degree.