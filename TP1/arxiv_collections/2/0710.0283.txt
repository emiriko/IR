Recent works, mostly related to Ramanujan's mock theta functions, make use of
the fact that harmonic weak Maass forms can be combinatorial generating
functions. Generalizing works of Waldspurger, Kohnen and Zagier, we prove that
such forms also serve as "generating functions" for central values and
derivatives of quadratic twists of weight 2 modular $L$-functions. To obtain
these results, we construct differentials of the third kind with twisted
Heegner divisor by suitably generalizing the Borcherds lift to harmonic weak
Maass forms. The connection with periods, Fourier coefficients, derivatives of
$L$-functions, and points in the Jacobian of modular curves is obtained by
analyzing the properties of these differentials using works of Scholl,
Waldschmidt, and Gross and Zagier.