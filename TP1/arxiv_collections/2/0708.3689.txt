Fix integers a_1,...,a_d satisfying a_1 + ... + a_d = 0. Suppose that f : Z_N
-> [0,1], where N is prime. We show that if f is ``smooth enough'' then we can
bound from below the sum of f(x_1)...f(x_d) over all solutions (x_1,...,x_d) in
Z_N to a_1 x_1 + ... + a_d x_d == 0 (mod N). Note that d = 3 and a_1 = a_2 = 1
and a_3 = -2 is the case where x_1,x_2,x_3 are in arithmetic progression. By
``smooth enough'' we mean that the sum of squares of the lower order Fourier
coefficients of f is ``small'', a property shared by many naturally-occurring
functions, among them certain ones supported on sumsets and on certain types of
pseudoprimes. The paper can be thought of as a generalization of another result
of the author, which dealt with a F_p^n analogue of the problem. It appears
that the method in that paper, and to a more limited extent the present paper,
uses ideas similar to those of B. Green's ``arithmetic regularity lemma'', as
we explain in the paper.