We computationally study the frustrated magnetic configurations of a thin
soft magnetic layer with the boundary condition fixed by underlying hard
magnets. Driven by geometrical constraints and external magnetic field,
transitions between frustrated energy minima result in magnetic hysteretic
behavior. The presence of soft-magnet introduces strong undulations in the
energy landscape in a length scale set by the magnetic property of the soft
magnet. We propose a possible use of the phenomena to locally control the
movement of magnetic nanoparticles.