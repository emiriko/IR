A broad-beam-delivery system for heavy-charged-particle radiotherapy often
employs multiple collimators and a range-compensating filter, which potentially
offer complex beam customization. In treatment planning, it is however
difficult for a conventional pencil-beam algorithm to deal with these
structures due to beam-size growth during transport. This study aims to resolve
the problem with a novel computational model. The pencil beams are initially
defined at the range compensating filter with angular-acceptance correction for
the upstream collimators followed by the range compensation effects. They are
individually transported with possible splitting near the downstream collimator
edges to deal with its fine structure. The dose distribution for a carbon-ion
beam was calculated and compared with existing experimental data. The penumbra
sizes of various collimator edges agreed between them to a submillimeter level.
This beam-customization model will complete an accurate and efficient
dose-calculation algorithm for treatment planning with heavy charged particles.