Let X be a smooth compact manifold with boundary. For smooth foliations on
the boundary of X admitting a `resolution' in terms of a fibration, we
construct a pseudodifferential calculus generalizing the fibred cusp calculus
of Mazzeo and Melrose. In particular, we introduce certain symbols leading to a
simple description of the Fredholm operators inside the calculus. When the
leaves of the fibration `resolving' the foliation are compact, we also obtain
an index formula for Fredholm perturbations of Dirac-type operators. Along the
way, we obtain a formula for the adiabatic limit of the eta invariant for
invertible perturbations of Dirac-type operators, a result of independent
interest generalizing the well-known formula of Bismut and Cheeger.