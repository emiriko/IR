The three species ABC model of driven particles on a ring is generalized to
include vacancies and particle-nonconserving processes. The model exhibits
phase separation at high densities. For equal average densities of the three
species, it is shown that although the dynamics is {\it local}, it obeys
detailed balance with respect to a Hamiltonian with {\it long-range
interactions}, yielding a nonadditive free energy. The phase diagrams of the
conserving and nonconserving models, corresponding to the canonical and
grand-canonical ensembles, respectively, are calculated in the thermodynamic
limit. Both models exhibit a transition from a homogeneous to a phase-separated
state, although the phase diagrams are shown to differ from each other. This
conforms with the expected inequivalence of ensembles in equilibrium systems
with long-range interactions. These results are based on a stability analysis
of the homogeneous phase and exact solution of the hydrodynamic equations of
the models. They are supported by Monte-Carlo simulations. This study may serve
as a useful starting point for analyzing the phase diagram for unequal
densities, where detailed balance is not satisfied and thus a Hamiltonian
cannot be defined.