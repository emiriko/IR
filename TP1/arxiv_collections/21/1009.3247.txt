This paper is concerned with cost optimization of an insurance company. The
surplus of the insurance company is modeled by a controlled regime switching
diffusion, where the regime switching mechanism provides the fluctuations of
the random environment. The goal is to find an optimal control that minimizes
the total cost up to a stochastic exit time. A weaker sufficient condition than
that of (Fleming and Soner 2006, Section V.2) for the continuity of the value
function is obtained. Further, the value function is shown to be a viscosity
solution of a Hamilton-Jacobian-Bellman equation.