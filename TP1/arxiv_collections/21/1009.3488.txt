We investigate the cosmological and the local tests of the f(R) theory of
modified gravity via the observations of (1) the cosmic expansion and (2) the
cosmic structures and via (3) the solar-system experiments. To fit the possible
cosmic expansion histories under consideration, for each of them we reconstruct
f(R), known as "designer f(R)". We then test the designer f(R) via the
cosmic-structure constraints on the metric perturbation ratio Psi/Phi and the
effective gravitational coupling G_eff and via the solar-system constraints on
the Brans-Dicke theory with the chameleon mechanism. We find that among the
designer f(R) models specified by the CPL effective equation of state w_eff,
only the model closely mimicking general relativity with a cosmological
constant (LambdaCDM) can survive all the tests. Accordingly, these tests rule
out the frequently studied "w_eff = -1" designer f(R) models which are distinct
in cosmic structures from LambdaCDM. When considering only the cosmological
tests, we find that the surviving designer f(R) models, although exist for a
variety of w_eff, entail fine-tuning.