Magnetic buoyancy is believed to drive the transport of magnetic flux tubes
from the convection zone to the surface of the Sun. The magnetic fields form
twisted loop-like structures in the solar atmosphere. In this paper we use
helical forcing to produce a large-scale dynamo-generated magnetic field, which
rises even without magnetic buoyancy. A two layer system is used as
computational domain where the upper part represents the solar atmosphere.
Here, the evolution of the magnetic field is solved with the stress--and--relax
method. Below this region a magnetic field is produced by a helical forcing
function in the momentum equation, which leads to dynamo action. We find
twisted magnetic fields emerging frequently to the outer layer, forming
arch-like structures. In addition, recurrent plasmoid ejections can be found by
looking at space--time diagrams of the magnetic field. Recent simulations in
spherical coordinates show similar results.