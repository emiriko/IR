We prove a many-server heavy-traffic fluid limit for an overloaded Markovian
queueing system having two customer classes and two service pools, known in the
call-center literature as the X model. The system uses the
fixed-queue-ratio-with-thresholds (FQR-T) control, which we proposed in a
recent paper as a way for one service system to help another in face of an
unexpected overload. Under FQR-T, customers are served by their own service
pool until a threshold is exceeded. Then, one-way sharing is activated with
customers from one class allowed to be served in both pools. After the control
is activated, it aims to keep the two queues at a pre-specified fixed ratio.
For large systems that fixed ratio is achieved approximately. For the fluid
limit, or FWLLN, we consider a sequence of properly scaled X models in overload
operating under FQR-T. Our proof of the FWLLN follows the compactness approach,
i.e., we show that the sequence of scaled processes is tight, and then show
that all converging subsequences have the specified limit. The characterization
step is complicated because the queue-difference processes, which determine the
customer-server assignments, remain stochastically bounded, and need to be
considered without spatial scaling. Asymptotically, these queue-difference
processes operate in a faster time scale than the fluid-scaled processes. In
the limit, due to a separation of time scales, the driving processes converge
to a time-dependent steady state (or local average) of a time-varying
fast-time-scale process (FTSP). This averaging principle (AP) allows us to
replace the driving processes with the long-run average behavior of the FTSP.