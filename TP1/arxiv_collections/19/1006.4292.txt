Star formation is regulated through a variety of feedback processes. In this
study, we treat feedback by metal injection and a UV background as well as by
X-ray irradiation. Our aim is to investigate whether star formation is
significantly affected when the ISM of a proto-galaxxy enjoys different
metallicities and when a star forming cloud resides in the vicinity of a strong
X-ray source. We perform cosmological Enzo simulations with a detailed
treatment of non-zero metallicity chemistry and thermal balance. We also
perform FLASH simulations with embedded Lagrangian sink particles of a
collapsing molecular cloud near a massive, 10^{7} M\odot, black hole that
produces X-ray radiation. We find that a multi-phase ISM forms for metallicites
as small as 10^{-4} Solar at z = 6, with higher (10^{-2}Z\odot) metallicities
supporting a cold (< 100 K) and dense (> 10^{3} cm^{-3}) phase at higher (z =
20) redshift. A star formation recipe based on the presence of a cold dense
phase leads to a self-regulating mode in the presence of supernova and
radiation feedback. We also find that when there is strong X-ray feedback a
collapsing cloud fragments into larger clumps whereby fewer but more massive
protostellar cores are formed. This is a consequence of the higher Jeans mass
in the warm (50 K, due to ionization heating) molecular gas. Accretion
processes dominate the mass function and a near-flat, non-Salpeter IMF results.