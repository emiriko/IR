Beam injections to KEKB and Photon Factory are performed with pulse-to-pulse
modulation at 50 Hz. Three very different beams are switched every 20 ms in
order to inject those beams into KEKB HER, LER and Photon Factory (PF)
simultaneously. Human operators work on one of those three virtual
accelerators, which correspond to three-fold accelerator parameters. Beam
charges for PF injection and the primary electron for positron generation are
50-times different, and beam energies for PF and HER injection are 3-times
different. Thus, the beam stabilities are sensitive to operational parameters,
and if any instability in accelerator equipment occurred, beam parameter
adjustments for those virtual accelerators have to be performed. In order to
cure such a situation, beam energy feedback system was installed that can
respond to each of virtual accelerators independently.