Radiation of a charged particle moving parallel to a inhomogeneous surface is
considered. Within a single formalism periodic and random gratings are
examined. For the periodically inhomogeneous surface we derive new expressions
for the dispersion relation and the spectral-angular intensity. In particular,
for a given observation direction two wavelengths are emitted instead of one
wavelength of the standard Smith-Purcell effect. For a rough surface we show
that the main contribution to the radiation intensity is given by surface
polaritons induced on the interface between two media. These polaritons are
multiply scattered on the roughness of surface and convert into real photons.
The spectral-angular intensity is calculated and its dependence on different
parameters is revealed.