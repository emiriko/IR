In frictionless markets, utility maximization problems are typically solved
either by stochastic control or by martingale methods. Beginning with the
seminal paper of Davis and Norman [Math. Oper. Res. 15 (1990) 676--713],
stochastic control theory has also been used to solve various problems of this
type in the presence of proportional transaction costs. Martingale methods, on
the other hand, have so far only been used to derive general structural
results. These apply the duality theory for frictionless markets typically to a
fictitious shadow price process lying within the bid-ask bounds of the real
price process. In this paper, we show that this dual approach can actually be
used for both deriving a candidate solution and verification in Merton's
problem with logarithmic utility and proportional transaction costs. In
particular, we determine the shadow price process.