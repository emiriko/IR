We study the quark mass dependence of the QCD phase transition by an
effective potential defined through the distribution function of observables.
As a test of the method, we study the first order deconfinement phase
transition in the heavy quark mass limit and its fate at lighter quark masses.
We confirm that the distribution function for the plaquette has two peaks
indicating that the phase transition is of first order in the heavy quark
limit. We then study the quark mass dependence of the distribution function by
a reweighting method combined with the hopping parameter expansion. We find
that the first order transition turns into a crossover as the quark mass
decreases. We determine the critical point for the cases of $N_f$=1, 2, 3 and
2+1. We find that the probability distribution function provides us with a
powerful tool to study the order of transitions.