The electron-cyclotron maser instability (ECMI) is responsible for generation
of the planetary auroral radio emissions. Most likely, the same mechanism
produces radio bursts from ultracool dwarfs. We investigate amplification of
plasma waves by the horseshoe-like electron distribution (similar to those
observed in the terrestrial magnetosphere) as well as relaxation of this
distribution due to the ECMI. We aim to determine parameters of the generated
plasma waves, timescales of the relaxation process, and the conversion
efficiency of the particle energy into waves. We have developed a kinetic
relativistic quasi-linear 2D code for simulating the coevolution of an electron
distribution and the high-frequency plasma waves. The code includes the
processes of wave growth and particle diffusion which are assumed to be much
faster than other processes (particle injection, etc.). A number of simulations
have been performed for different parameter sets which seem to be typical for
the magnetospheres of ultracool dwarfs (in particular, the plasma frequency is
much less than the cyclotron one). The calculations have shown that the
fundamental extraordinary mode dominates strongly. The generated waves have the
frequency slightly below the electron cyclotron frequency and propagate across
the magnetic field. The final intensities of other modes are negligible. The
conversion efficiency of the electron energy into the extraordinary waves is
typically around 10%. Complete relaxation of the unstable electron distribution
takes much less than a second. Energy efficiency of the ECMI is more than
sufficient to provide the observed intensity of radio emission from ultracool
dwarfs. On the other hand, the observed light curves of the emission are not
related to the properties of this instability and reflect, most likely,
dynamics of the electron acceleration process and/or geometry of the radiation
source.