The back-reaction of baryons on the dark matter halo density profile is of
great interest, not least because it is an important systematic uncertainty
when attempting to detect the dark matter. Here, we draw on a large suite of
high resolution cosmological hydrodynamical simulations, to systematically
investigate this process and its dependence on the baryonic physics associated
with galaxy formation. The inclusion of baryons results in significantly more
concentrated density profiles if radiative cooling is efficient and feedback is
weak. The dark matter halo concentration can in that case increase by as much
as 30 (10) per cent on galaxy (cluster) scales. The most significant effects
occur in galaxies at high redshift, where there is a strong anti-correlation
between the baryon fraction in the halo centre and the inner slope of both the
total and the dark matter density profiles. If feedback is weak, isothermal
inner profiles form, in agreement with observations of massive, early-type
galaxies. However, we find that AGN feedback, or extremely efficient feedback
from massive stars, is necessary to match observed stellar fractions in groups
and clusters, as well as to keep the maximum circular velocity similar to the
virial velocity as observed for disk galaxies. These strong feedback models
reduce the baryon fraction in galaxies by a factor of 3 relative to the case
with no feedback. The AGN is even capable of reducing the baryon fraction by a
factor of 2 in the inner region of group and cluster haloes. This in turn
results in inner density profiles which are typically shallower than isothermal
and the halo concentrations tend to be lower than in the absence of baryons.