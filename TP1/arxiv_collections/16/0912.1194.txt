Organisms adapt to fluctuating environments by regulating their dynamics, and
by adjusting their phenotypes to environmental changes. We model population
growth using multitype branching processes in random environments, where the
offspring distribution of some organism having trait $t\in\cT$ in environment
$e\in\cE$ is given by some (fixed) distribution $\Upsilon_{t,e}$ on $\bbN$.
Then, the phenotypes are attributed using a distribution (strategy) $\pi_{t,e}$
on the trait space $\cT$. We look for the optimal strategy $\pi_{t,e}$,
$t\in\cT$, $e\in\cE$ maximizing the net growth rate or Lyapounov exponent, and
characterize the set of optimal strategies. This is considered for various
models of interest in biology: hereditary versus non-hereditary strategies and
strategies involving or not involving a sensing mechanism. Our main results are
obtained in the setting of non-hereditary strategies: thanks to a reduction to
simple branching processes in random environment, we derive an exact expression
for the net growth rate and a characterisation of optimal strategies. We also
focus on typical genealogies, that is, we consider the problem of finding the
typical lineage of a randomly chosen organism.