This paper has three main goals. First, we set up a general framework to
address the problem of constructing module bases for the equivariant cohomology
of certain subspaces of GKM spaces. To this end we introduce the notion of a
GKM-compatible subspace of an ambient GKM space. We also discuss
poset-upper-triangularity, a key combinatorial notion in both GKM theory and
more generally in localization theory in equivariant cohomology. With a view
toward other applications, we present parts of our setup in a general algebraic
and combinatorial framework. Second, motivated by our central problem of
building module bases, we introduce a combinatorial game which we dub poset
pinball and illustrate with several examples. Finally, as first applications,
we apply the perspective of GKM-compatible subspaces and poset pinball to
construct explicit and computationally convenient module bases for the
$S^1$-equivariant cohomology of all Peterson varieties of classical Lie type,
and subregular Springer varieties of Lie type $A$. In addition, in the Springer
case we use our module basis to lift the classical Springer representation on
the ordinary cohomology of subregular Springer varieties to $S^1$-equivariant
cohomology in Lie type $A$.