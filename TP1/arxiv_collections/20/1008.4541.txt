We present methodology and results of numerical modeling of the interaction
of GRB prompt emission with the circumburst medium using a modified version of
the multi-group radiation hydrocode STELLA. The modification includes the
nonstationary photoionization, the photoionization heating and the Compton
heating along with the hydrodynamics and radiation transfer. The lightcurves
and spectra of the outcoming gamma-ray, X-ray and optical emission are
calculated for a set of models (shells) of the circumburst environment, which
differ in dimensions, density, density profile, composition, temperature. In
some cases total bolometric and optical luminosities can reach 10^47 and 10^43
erg/s respectively. These effects can be responsible for irregularities which
are seen on lightcurves of some GRB's X-ray and optical afterglows.