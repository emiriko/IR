We show that, with coefficients in a field or a complete local ring k, the
Braden-MacPherson algorithm computes the stalks of parity sheaves with
coefficients in k. As a consequence we deduce that the Braden-MacPherson
algorithm may be used to calculate the characters of tilting modules for
algebraic groups and show that the p-smooth locus of (Kac-Moody) Schubert
varieties agrees with the rationally smooth locus, if the underlying Bruhat
graph satisfies a GKM-condition.