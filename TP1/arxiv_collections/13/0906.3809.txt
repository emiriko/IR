We study the spin-resolved transport through magnetic nanostructures in
monolayer and bilayer graphene. We take into account both the orbital effect of
the inhomogeneous perpendicular magnetic field as well as the in-plane spin
splitting due to the Zeeman interaction and to the exchange coupling possibly
induced by the proximity of a ferromagnetic insulator. We find that a single
barrier exhibits a wavevector-dependent spin filtering effect at energies close
to the transmission threshold. This effect is significantly enhanced in a
resonant double barrier configuration, where the spin polarization of the
outgoing current can be increased up to 100% by increasing the distance between
the barriers.