Diffusion is a key element of a large set of phenomena occurring on natural
and social systems modeled in terms of complex weighted networks. Here, we
introduce a general formalism that allows to easily write down mean-field
equations for any diffusive dynamics on weighted networks. We also propose the
concept of annealed weighted networks, in which such equations become exact. We
show the validity of our approach addressing the problem of the random walk
process, pointing out a strong departure of the behavior observed in quenched
real scale-free networks from the mean-field predictions. Additionally, we show
how to employ our formalism for more complex dynamics. Our work sheds light on
mean-field theory on weighted networks and on its range of validity, and warns
about the reliability of mean-field results for complex dynamics.