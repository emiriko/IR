We consider in this work a model for aggregation, where the coalescing
particles initially have a certain number of potential links (called arms)
which are used to perform coagulations. There are two types of arms, male and
female, and two particles may coagulate only if one has an available male arm,
and the other has an available female arm. After a coagulation, the used arms
are no longer available. We are interested in the concentrations of the
different types of particles, which are governed by a modification of
Smoluchowski's coagulation equation -- that is, an infinite system of nonlinear
differential equations. Using generating functions and solving a nonlinear PDE,
we show that, up to some critical time, there is a unique solution to this
equation. The Lagrange Inversion Formula allows in some cases to obtain
explicit solutions, and to relate our model to two recent models for limited
aggregation. We also show that, whenever the critical time is infinite, the
concentrations converge to a state where all arms have disappeared, and the
distribution of the masses is related to the law of the size of some two-type
Galton-Watson tree. Finally, we consider a microscopic model for coagulation:
we construct a sequence of Marcus-Lushnikov processes, and show that it
converges, before the critical time, to the solution of our modified
Smoluchowski's equation.