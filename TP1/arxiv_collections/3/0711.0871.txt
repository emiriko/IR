We relate a certain category of sheaves of k-vector spaces on a complex
affine Schubert variety to modules over the k-Lie algebra (for ch k>0) or to
modules over the small quantum group (for ch k=0) associated to the Langlands
dual root datum. As an application we give a new proof of Lusztig's conjecture
on quantum characters and on modular characters for almost all characteristics.
Moreover, we relate the geometric and representation theoretic sides to sheaves
on the underlying moment graph, which allows us to extend the known instances
of Lusztig's modular conjecture in two directions: We give an upper bound on
the exceptional characteristics and verify its multiplicity one case for all
relevant primes.