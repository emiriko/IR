A new method for extracting force constants (FC) from first principles is
introduced. It requires small supercells but very accurate forces. In
principle, provided that forces are accurate enough, it can extract harmonic as
well as anharmonic FCs up to any neighbor shell. Symmetries of the FCs as well
as those of the lattice are used to reduce the number of parameters to be
calculated. Results are illustrated for the case of Lennard-Jones potential
where forces are exact and FCs can be calculated analytically, and Si in the
diamond structure. The latter are compared to previously calculated harmonic
FCs.